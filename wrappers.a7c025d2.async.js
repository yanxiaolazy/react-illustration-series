(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[35],{MZF8:function(t,e,n){"use strict";var r=n("ogwx");n.d(e,"a",(function(){return r["b"]}));n("VCU9")},OYlG:function(t,e,n){"use strict";n.r(e);var r=n("wx14"),o=n("q1tI"),a=n.n(o),c=n("RGYn"),i=n("HaE+"),u=n("o0o1"),s=n.n(u),l=n("LtsZ"),f={"01-setstate-demo":{component:Object(l["dynamic"])({loader:function(){var t=Object(i["a"])(s.a.mark((function t(){var e,r,o,a,c,i,u;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=n("TqRt"),t.t0=e,t.next=4,n.e(37).then(n.bind(null,"1OyB"));case 4:return t.t1=t.sent,r=(0,t.t0)(t.t1),t.t2=e,t.next=9,n.e(38).then(n.bind(null,"vuIU"));case 9:return t.t3=t.sent,o=(0,t.t2)(t.t3),t.t4=e,t.next=14,n.e(39).then(n.bind(null,"Ji7U"));case 14:return t.t5=t.sent,a=(0,t.t4)(t.t5),t.t6=e,t.next=19,n.e(36).then(n.bind(null,"LK+K"));case 19:return t.t7=t.sent,c=(0,t.t6)(t.t7),t.t8=e,t.next=24,Promise.resolve().then(n.t.bind(null,"q1tI",7));case 24:return t.t9=t.sent,i=(0,t.t8)(t.t9),u=function(t){(0,a["default"])(n,t);var e=(0,c["default"])(n);function n(){var t;(0,r["default"])(this,n);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=e.call.apply(e,[this].concat(a)),t.state={count:0},t.changeState=function(){var e=t.state.count+1;t.setState({count:t.state.count+1}),e===t.state.count?console.log("\u540c\u6b65\u6267\u884crender"):console.log("\u5f02\u6b65\u6267\u884crender")},t.changeState2=function(){var e=t.state.count+1;Promise.resolve().then((function(){t.setState({count:t.state.count+1}),e===t.state.count?console.log("\u540c\u6b65\u6267\u884crender"):console.log("\u5f02\u6b65\u6267\u884crender")}))},t}return(0,o["default"])(n,[{key:"render",value:function(){return i["default"].createElement("div",null,i["default"].createElement("p",null,"\u5f53\u524dcount=",this.state.count),i["default"].createElement("button",{onClick:this.changeState},"\u5f02\u6b65+1"),i["default"].createElement("button",{onClick:this.changeState2},"\u540c\u6b65+1"))}}]),n}(i["default"].Component),t.abrupt("return",u);case 28:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),loading:()=>null}),previewerProps:{sources:{_:{jsx:"import React from 'react';\n\nexport default class App extends React.Component {\n  state = {\n    count: 0,\n  };\n\n  changeState = () => {\n    const newCount = this.state.count + 1;\n    this.setState({\n      count: this.state.count + 1,\n    });\n    if (newCount === this.state.count) {\n      console.log('\u540c\u6b65\u6267\u884crender');\n    } else {\n      console.log('\u5f02\u6b65\u6267\u884crender');\n    }\n  };\n\n  changeState2 = () => {\n    const newCount = this.state.count + 1;\n    Promise.resolve().then(() => {\n      this.setState({\n        count: this.state.count + 1,\n      });\n      if (newCount === this.state.count) {\n        console.log('\u540c\u6b65\u6267\u884crender');\n      } else {\n        console.log('\u5f02\u6b65\u6267\u884crender');\n      }\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <p>\u5f53\u524dcount={this.state.count}</p>\n        <button onClick={this.changeState}>\u5f02\u6b65+1</button>\n        <button onClick={this.changeState2}>\u540c\u6b65+1</button>\n      </div>\n    );\n  }\n}"}},dependencies:{react:{version:"16.14.0"}},identifier:"01-setstate-demo"}},"hook-state-demo":{component:Object(l["dynamic"])({loader:function(){var t=Object(i["a"])(s.a.mark((function t(){var e,r,o,a,c,i;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=function(){var t=(0,o.useState)(0),e=(0,r["default"])(t,2),n=e[0],a=e[1];return o["default"].createElement("button",{onClick:function(){a(1),a(3),a(2)}},n)},c=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==typeof t&&"function"!==typeof t)return{default:t};var n=a(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var i=o?Object.getOwnPropertyDescriptor(t,c):null;i&&(i.get||i.set)?Object.defineProperty(r,c,i):r[c]=t[c]}return r["default"]=t,n&&n.set(t,r),r},a=function(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(a=function(t){return t?n:e})(t)},e=n("TqRt"),t.t0=e,t.next=7,Promise.resolve().then(n.bind(null,"ODXe"));case 7:return t.t1=t.sent,r=(0,t.t0)(t.t1),t.t2=c,t.next=12,Promise.resolve().then(n.t.bind(null,"q1tI",7));case 12:return t.t3=t.sent,o=(0,t.t2)(t.t3),t.abrupt("return",i);case 15:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),loading:()=>null}),previewerProps:{sources:{_:{jsx:"import React, { useState } from 'react';\nexport default function App() {\n  const [count, dispatch] = useState(0);\n  return (\n    <button\n      onClick={() => {\n        dispatch(1);\n        dispatch(3);\n        dispatch(2);\n      }}\n    >\n      {count}\n    </button>\n  );\n}"}},dependencies:{react:{version:"16.14.0"}},identifier:"hook-state-demo"}},"hook-summary-demo":{component:Object(l["dynamic"])({loader:function(){var t=Object(i["a"])(s.a.mark((function t(){var e,r,o,a,c,i;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=function(){var t=(0,o.useState)(1),e=(0,r["default"])(t,2),n=e[0],a=e[1];(0,o.useEffect)((function(){console.log("effect 1 created")}));var c=(0,o.useState)(2),i=(0,r["default"])(c,1),u=i[0];return(0,o.useEffect)((function(){console.log("effect 2 created")})),o["default"].createElement(o["default"].Fragment,null,o["default"].createElement("button",{onClick:function(){return a(n+1)}},n),o["default"].createElement("button",null,u))},c=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==typeof t&&"function"!==typeof t)return{default:t};var n=a(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var i=o?Object.getOwnPropertyDescriptor(t,c):null;i&&(i.get||i.set)?Object.defineProperty(r,c,i):r[c]=t[c]}return r["default"]=t,n&&n.set(t,r),r},a=function(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(a=function(t){return t?n:e})(t)},e=n("TqRt"),t.t0=e,t.next=7,Promise.resolve().then(n.bind(null,"ODXe"));case 7:return t.t1=t.sent,r=(0,t.t0)(t.t1),t.t2=c,t.next=12,Promise.resolve().then(n.t.bind(null,"q1tI",7));case 12:return t.t3=t.sent,o=(0,t.t2)(t.t3),t.abrupt("return",i);case 15:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),loading:()=>null}),previewerProps:{sources:{_:{jsx:"import React, { useState, useEffect } from 'react';\nexport default function App() {\n  // 1. useState\n  const [a, setA] = useState(1);\n  // 2. useEffect\n  useEffect(() => {\n    console.log(`effect 1 created`);\n  });\n  // 3. useState\n  const [b] = useState(2);\n  // 4. useEffect\n  useEffect(() => {\n    console.log(`effect 2 created`);\n  });\n  return (\n    <>\n      <button onClick={() => setA(a + 1)}>{a}</button>\n      <button>{b}</button>\n    </>\n  );\n}"}},dependencies:{react:{version:"16.14.0"}},identifier:"hook-summary-demo"}},"hook-demo":{component:Object(l["dynamic"])({loader:function(){var t=Object(i["a"])(s.a.mark((function t(){var e,r,o,a,c,i,u;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=function(){Promise.resolve().then((function(){console.log("\u6240\u6709\u7684effect.create\u90fd\u662f\u901a\u8fc7\u8c03\u5ea6\u5668(scheduler)\u5f02\u6b65(MessageChannel)\u6267\u884c\u7684, \u6545effect.create\u51fd\u6570\u5fc5\u7136\u5728\u6b64\u4e4b\u540e\u6267\u884c")}));var t=(0,o.useState)(0),e=(0,r["default"])(t,2),n=e[0],a=e[1];return(0,o.useEffect)((function(){return console.log("\u7b2c1\u4e2aeffect.create dps: []"),function(){console.log("\u7b2c1\u4e2aeffect.destroy")}}),[]),(0,o.useEffect)((function(){return console.log("effect.create dps: [count]",n),function(){console.log("\u7b2c2\u4e2aeffect.destroy dps: [count]",n)}}),[n]),o["default"].createElement(o["default"].Fragment,null,o["default"].createElement("p",null,"You clicked ",n," times"),o["default"].createElement("button",{onClick:function(){return a(n+1)}},"Click me"))},c=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==typeof t&&"function"!==typeof t)return{default:t};var n=a(e);if(n&&n.has(t))return n.get(t);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var i=o?Object.getOwnPropertyDescriptor(t,c):null;i&&(i.get||i.set)?Object.defineProperty(r,c,i):r[c]=t[c]}return r["default"]=t,n&&n.set(t,r),r},a=function(t){if("function"!==typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(a=function(t){return t?n:e})(t)},e=n("TqRt"),t.t0=e,t.next=7,Promise.resolve().then(n.bind(null,"ODXe"));case 7:return t.t1=t.sent,r=(0,t.t0)(t.t1),t.t2=c,t.next=12,Promise.resolve().then(n.t.bind(null,"q1tI",7));case 12:return t.t3=t.sent,o=(0,t.t2)(t.t3),u=i,t.abrupt("return",u);case 16:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),loading:()=>null}),previewerProps:{sources:{_:{jsx:"import React, { useState, useEffect } from 'react';\nfunction Example() {\n  Promise.resolve().then(() => {\n    console.log(\n      '\u6240\u6709\u7684effect.create\u90fd\u662f\u901a\u8fc7\u8c03\u5ea6\u5668(scheduler)\u5f02\u6b65(MessageChannel)\u6267\u884c\u7684, \u6545effect.create\u51fd\u6570\u5fc5\u7136\u5728\u6b64\u4e4b\u540e\u6267\u884c',\n    );\n  });\n  // \u7b2c1\u4e2ahook(useState)\n  const [count, setCount] = useState(0);\n  // \u7b2c2\u4e2ahook(useEffect)\n  useEffect(() => {\n    console.log('\u7b2c1\u4e2aeffect.create dps: []');\n    return () => {\n      console.log('\u7b2c1\u4e2aeffect.destroy');\n    };\n  }, []);\n  // \u7b2c3\u4e2ahook(useEffect)\n  useEffect(() => {\n    console.log('effect.create dps: [count]', count);\n    return () => {\n      console.log('\u7b2c2\u4e2aeffect.destroy dps: [count]', count);\n    };\n  }, [count]);\n  return (\n    <>\n      <p>You clicked {count} times</p>\n      <button onClick={() => setCount(count + 1)}>Click me</button>\n    </>\n  );\n}\nexport default Example;"}},dependencies:{react:{version:"16.14.0"}},identifier:"hook-demo"}}},p=n("Zs1V"),d=n("KcUY"),h=n.n(d);e["default"]=t=>a.a.createElement(h.a,Object(r["a"])({},t,{config:c,demos:f,apis:p}))},RGYn:function(t){t.exports=JSON.parse('{"menus":{"zh-CN":{"*":[{"path":"/","title":"\u56fe\u89e3React\u539f\u7406\u7cfb\u5217","meta":{}}],"/algorithm":[{"path":"/algorithm/bitfield","title":"\u4f4d\u8fd0\u7b97","meta":{}},{"path":"/algorithm/dfs","title":"\u6df1\u5ea6\u4f18\u5148\u904d\u5386","meta":{}},{"path":"/algorithm/diff","title":"\u8c03\u548c\u7b97\u6cd5","meta":{}},{"path":"/algorithm/heapsort","title":"\u5806\u6392\u5e8f","meta":{}},{"path":"/algorithm/linkedlist","title":"\u94fe\u8868\u64cd\u4f5c","meta":{}},{"path":"/algorithm/stack","title":"\u6808\u64cd\u4f5c","meta":{}}],"/interview":[{"path":"/interview","title":"\u4f7f\u7528\u8bf4\u660e","meta":{"order":0}},{"path":"/interview/01-setstate","title":"setState","meta":{"order":1}},{"path":"/interview/06-key","title":"key \u6709\u4ec0\u4e48\u4f5c\u7528, \u53ef\u4ee5\u7701\u7565\u5417?","meta":{}}],"/main":[{"title":"\u57fa\u672c\u6982\u5ff5","children":[{"path":"/main/macro-structure","title":"\u5b8f\u89c2\u5305\u7ed3\u6784"},{"path":"/main/workloop","title":"\u4e24\u5927\u5de5\u4f5c\u5faa\u73af"},{"path":"/main/object-structure","title":"\u9ad8\u9891\u5bf9\u8c61"}]},{"title":"\u8fd0\u884c\u6838\u5fc3","children":[{"path":"/main/reconciler-workflow","title":"reconciler \u8fd0\u4f5c\u6d41\u7a0b"},{"path":"/main/bootstrap","title":"\u542f\u52a8\u8fc7\u7a0b"},{"path":"/main/priority","title":"\u4f18\u5148\u7ea7\u7ba1\u7406"},{"path":"/main/scheduler","title":"\u8c03\u5ea6\u539f\u7406"},{"path":"/main/fibertree-prepare","title":"fiber \u6811\u6784\u9020(\u57fa\u7840\u51c6\u5907)"},{"path":"/main/fibertree-create","title":"fiber \u6811\u6784\u9020(\u521d\u6b21\u521b\u5efa)"},{"path":"/main/fibertree-update","title":"fiber \u6811\u6784\u9020(\u5bf9\u6bd4\u66f4\u65b0)"},{"path":"/main/fibertree-commit","title":"fiber \u6811\u6e32\u67d3"}]},{"title":"\u72b6\u6001\u7ba1\u7406","children":[{"path":"/main/state-effects","title":"\u72b6\u6001\u4e0e\u526f\u4f5c\u7528"},{"path":"/main/hook-summary","title":"Hook \u539f\u7406(\u6982\u89c8)"},{"path":"/main/hook-state","title":"Hook \u539f\u7406(\u72b6\u6001Hook)"},{"path":"/main/hook-effect","title":"Hook \u539f\u7406(\u526f\u4f5c\u7528Hook)"},{"path":"/main/context","title":"context \u539f\u7406"}]},{"title":"\u4ea4\u4e92","children":[{"path":"/main/synthetic-event","title":"\u5408\u6210\u4e8b\u4ef6"}]}]}},"locales":[{"name":"zh-CN","label":"\u4e2d\u6587"}],"navs":{"zh-CN":[{"title":"\u539f\u7406\u89e3\u6790","path":"/main"},{"path":"/algorithm","title":"Algorithm"},{"path":"/interview","title":"\u9762\u8bd5\u9898"},{"title":"GitHub","path":"https://github.com/7kms/react-illustration-series"}]},"title":"\u56fe\u89e3React","logo":"/react-illustration-series/logo.png","description":"\u57fa\u4e8ereact@17.0.2.\u5c3d\u53ef\u80fd\u8ddf\u968freact\u7248\u672c\u7684\u5347\u7ea7,\u6301\u7eed\u66f4\u65b0. \u7528\u5927\u91cf\u914d\u56fe\u7684\u65b9\u5f0f, \u81f4\u529b\u4e8e\u5c06`react\u539f\u7406`\u8868\u8ff0\u6e05\u695a.","mode":"site","repository":{"url":"https://github.com/7kms/react-illustration-series","branch":"master"},"theme":{},"exportStatic":{}}')},Zs1V:function(t){t.exports=JSON.parse("{}")}}]);